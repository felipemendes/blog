{"componentChunkName":"component---src-templates-blog-post-js","path":"/ciclo-de-vida-aplicativo-ios/","result":{"data":{"site":{"siteMetadata":{"title":"Felipe Mendes"}},"markdownRemark":{"id":"4da718b0-c347-5848-a15b-3172d3a52629","excerpt":"O ciclo de vida da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O…","html":"<p>O <strong>ciclo de vida</strong> da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O gerenciamento desse ciclo de vida é responsável por lidar com ações do sistema quando o aplicativo estiver em primeiro ou em segundo plano e também eventos relacionados ao sistema.</p>\n<p>Há diversos estados que são executados com o uso da aplicação e à medida que o estado muda, deve-se ajustar seu comportamento. O aplicativo que estiver em primeiro plano tem a prioridade sobre os recursos do sistema. E os aplicativos que estão em segundo plano devem fazer o mínimo possível de execuções e, de preferência, nada, porque estão fora da tela.</p>\n<p>A cada alteração de estado, o <em>UIKit</em> é responsável por invocar o método apropriado. Até a versão 12 do iOS utilizamos eventos do ciclo de vida com base em aplicativos (<em>App-Based</em>) através do <strong>UIApplicationDelegate</strong>. No iOS 13 em diante foi introduzido eventos com base em cenas (<em>Scene-Based</em>) com <strong>UISceneDelegate</strong></p>\n<h2>Ciclo de vida com base em aplicativos</h2>\n<p>Esse ciclo é utilizado no iOS 12 e versões anteriores, e em aplicativos que não suportam cenas. Aqui o <em>AppDelegate</em> gerencia todas as telas do aplicativo.</p>\n<p>Ao iniciar um aplicativo, o sistema o coloca no estado <strong>inativo</strong> ou em <strong>segundo plano</strong>, dependendo se a interface está prestes a aparecer na tela. Ao iniciar em primeiro plano, o sistema faz a transição do aplicativo para o estado ativo automaticamente. Depois disso, o estado varia entre ativo e em segundo plano até o aplicativo ser fechado.</p>\n<p>A imagem abaixo representa as transições com <em>AppDelegate</em>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.18987341772151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEMklEQVQ4y21Va28bRRTd34dKkYqSQovEQwhKCTRtA0XiJyDoN4SCIA0horRFKR+CVFIBamqcOHHix3o3XtvrV/yKX+td78uvw73j+pGKkY5nPbNz5s4998xK+J82Go1Eb9s2SpUGqrUWiqUaKtS7rvvinaHoe/4IxWIZXcsT/6VisQhGrVZDPp9Ho9GYEvf7fbQKuzAqMTRLUbQLz9Dr9abzhlmFXgrSRjqypX1U6hokVVWRSCSQTCYRj8eRy+WmCxzbgRX5BEhcIVyFHf0YrtOdzufKITw/WcKh/iUC2jXI+kNIqVRKkEWjUSiKAl3XZ0fu2jCjtwD1MuENWNEbNGbOCEsH2EvdRDj3Ofb1JcRSRJhOpwVhMBgUhNls9lwOHfk2zIMFGPuL9LwMp2tNCfOVQwS1ZTwJ3cC/2nWK8LdxhEdHR9je3kY4HBZ55DyJ/DWb6MZWUP7nNeSfXoQZWYZpkDCeR0fvI1Pcw67yKbb++gBPI+8jWfgd0snJiSDkCEOhEAqFwjQCjxS15RUMYosCdvwmPMeezp/WjkWE4ewd7KWvQ8luzXLIR2dyjvA84R3KH4mikih0fG9OlNMzIkzdwmH2C+xllqDkHkNiMlaayTiH8yq7jgsnvgTIrxIuwo1dO6dysXZI6n6IkE45TL83VjmTyQgyLh1GtVqdLuj1+jBSm+iodwUM7Sf4vj+dr7dyiKR/wLF2D8fpVSqjA0iDwQDD4RCdTgetVksoPGTQ2JDc4PcBf0DkwzFmThqBOzaM2XHhe2II0mS3CTGryypPMBryf58WD2bWnLMnN993aGy8m2RZFkzTFJZrt9vnjsSLLHJLhyI3qIRMKnTedEzJKfHQNTuo1S2x1nPtsSgMLmgWZ15lvggeK3X8oXexnTGxRc/Oi8uBm0mF7SdW4Ge/RV/9DO30ozEhi8L9y07pUkQb0TN8p3oCG7EGuhQxN46zXdzFMHaJSmqBquAVtJLrY+txLUYiEUHKXp40mxbfT7SwGjMIbWzKzSkhBGEAI/kKrKO3ifB11NV7kLhU2CE7OzvCLRwhC8NRmqaF9YMCvvpbw9fPMlgPl2B0TAwHPXikvnEagHu0iPSfCzD3LsDMbEKKxWKCiBEIBMB1ycJw8g0qpbX9LL4J5HGX8GMoj2bboA19OKSdUXwO+3ABZ4HLsPYvwEj/PDsyE2madt7Lno8HqoG1VE/gvtKmi2FWBd1qCKP4m4D2LqBcEiaQmGRelHmVWdFfEk2sKg6+Vx2RQ9txx0VNv1YlSKKQIMpbwppGemN828iyLGzHN/bLZfNQrmMtQUeXO/iVnh1nvmzC8KPvwJc/otvoKlqpB5DYclzU5XJZ9I7jTIua89gwLFQahkCdnnlsUla+R5+IVgHV0ySMuk43UWdmPbaZRxcngyOboEcmncf8nHifjO64sw/XfyU8imLsIPOrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"App-Based\"\n        title=\"App-Based\"\n        src=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png\"\n        srcset=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/c26ae/app-based.png 158w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/6bdcf/app-based.png 315w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png 630w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png 784w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em aplicativos</h3>\n<p>Essas são os métodos executados em cada transição com base em aplicativos:</p>\n<ul>\n<li>\n<p>Os métodos responsáveis para o início do aplicativo são:</p>\n<ul>\n<li>application(_:willFinishLaunchingWithOptions:)</li>\n<li>application(_:didFinishLaunchingWithOptions:)</li>\n</ul>\n</li>\n<li>\n<p>Ao entrar em primeiro plano esses métodos são executados:</p>\n<ul>\n<li>applicationWillEnterForeground(_:)</li>\n<li>applicationDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>applicationWillResignActive(_:)</li>\n<li>applicationDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Método de finalização:</p>\n<ul>\n<li>applicationWillTerminate(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Ciclo de vida com base em cenas</h2>\n<p>Para os aplicativos que suportam cenas há um novo ciclo de vida. Isso é resultado do novo suporte de <em>multi-window</em> que chegou com o iPadOS. Uma cena no iOS representa uma instância da interface do usuário do aplicativo em execução.</p>\n<p>Enquanto o <strong>AppDelegate</strong> é responsável pelo ciclo de vida do aplicativo, o <strong>SceneDelegate</strong> é responsável pelo que é mostrado na tela; as cenas ou janelas. Dessa forma, cada cena tem seu próprio ciclo de vida, cada uma pode estar em um estado de execução diferente.</p>\n<p>A imagem a seguir mostra as transições de estado para cenas:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.32911392405065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEFklEQVQ4y3WU62/bZBTG++chJq1I2zTBBOsEKioSYtOmfgAkPvEBTQgBopuqTdAJxEWT6DYBLSkt7bb0tqZJnJQkTtK4idM0ie92fI0fzmsvcfjAK72xnPP65+c85xxPhWGIeA2BwKcLbYQY/W1aFprtPsR2D0KzC0nWKTbE6DnPDXEiiNA1O7qfYj++7yPblFDtKOBaMviOGkHZcm0DauMPaJ0cVCEFo1vAaA0oVhc30Tor0vUpziQ+BloDG0u5Hu6XHdwpDpCq9GLFLKadwj6cAUpXAO416PVfMMpJUtpIl27hQLiFdGUOfHNlBBzgx6KMu9k+7uRUrPH9CWAHdn4WYfEKQu4i1NrDCeApdiofYr92E7vVD1Bp/klA8sIwLSwdiPji6TE+fyYgVeqQnx4CYuqyCHX/bTQ3LqL/7DzU+kMEiB3pSS1scfP47fkcUgezqLZSmPI9DzoBv90T8OV2KwKuHrUR+i5cfwhDbkHcmgH36BzqK69AIYUBwcLhMAKuvbiJn1dnsExnqq01TA0p4Ho+fjpS8B3v4l7Jwd91OSmK1aeU38Xg8HW4hxdgniyPi6IZXezxH5OPN/C8/D7qp38xYADbcfE9J2HxHxsLBQtrVWnsoW2cwcldA8qXgcI0jOPEQ4X83anMU1GuY5ufQ1UkD4MgIIUelotd/FCQ8CDfR7qeFMWxZOj5j2ByN2Dl3oN2khor1A0J+5Xb2Kt8iu3SJ2i00+Sh78c9RZW2rAFkWYHrOOOHhsMwitnU4APThOf5E7EhbNtGX+pD1VTq5yABjhabANd1o4NsOwT3fS/KYvJMMmHUEEESi4AsaNLbGcBiSkhRcpgqTco1uR+fIb+TmA9noENSbRo9jcZwEHvIVOTzeZTLZRSLRfA8P35IMajp82d4UlEjj18I0jjGmt7Iz8MhD638degnK3HbMFUMyEClUikCjzLqqQbu5yTcK7vUAebLgsVBQ25SB1ylsbxEYzkNvfFrDGQpMmWZTAbZbPY/CiXdxBKnYGGvjYVDGTuNRKGpiHC5d2iS3qAevUTAR3HKHhm+u7uLjY0NrK+vR/CoCPSZOpM1fL1ZwWepI9zerGOrLGLoOTRFIdReA93tq+BXpiGkXoXWePxyUqiquVwOHMeNvfSDIEqtz1LOdLCYV/ANKUzXutGc01SSwhapu0bA8xDXz8FsPomBrChMVbVajWC1Wm2clmraeFBQsFRxsXhkYe9EGcdsvQOvMAvwbwHFyzSWE0DmHYOOFI66TKYqLx72cLdg4KushvRxUhRLbdO38k0M8xfgZc7FRWEeMqgoihAEIdq9Xm+sgnnJiQoyQg/7jT5OFSOJOQPozXX6kq9CE36HpQiYYv4x6GT3sxewhmc7iCaJDAuD/52UyfUv8Y8BAU6TXnEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Scene-Based\"\n        title=\"Scene-Based\"\n        src=\"/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png\"\n        srcset=\"/static/40f81c46b609cfed8847b1c40929cc8c/c26ae/scene-based.png 158w,\n/static/40f81c46b609cfed8847b1c40929cc8c/6bdcf/scene-based.png 315w,\n/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png 630w,\n/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png 855w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em cenas</h3>\n<p>Essas são os métodos executados em cada transição com base em cenas:</p>\n<ul>\n<li>\n<p>Ao entrar em primeiro plano é executado:</p>\n<ul>\n<li>sceneWillEnterForeground(_:)</li>\n<li>sceneDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>sceneWillResignActive(_:)</li>\n<li>sceneDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Ao adicionar uma nova cena:</p>\n<ul>\n<li>scene(_:willConnectTo:options:)</li>\n</ul>\n</li>\n<li>\n<p>Remove a cena do aplicativo:</p>\n<ul>\n<li>sceneDidDisconnect(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Responder a outros eventos significativos</h2>\n<p>Além dos eventos de ciclo de vida, os aplicativos também devem estar preparados para lidar com outras situações. </p>\n<ul>\n<li>\n<p>Avisos de memória:</p>\n<ul>\n<li>applicationDidReceiveMemoryWarning(_:)</li>\n<li>didReceiveMemoryWarning()</li>\n<li>didReceiveMemoryWarningNotification</li>\n</ul>\n</li>\n<li>\n<p>Dados protegidos ficam disponíveis / indisponíveis:</p>\n<ul>\n<li>applicationProtectedDataDidBecomeAvailable(_:)</li>\n<li>applicationProtectedDataWillBecomeUnavailable(_:)</li>\n</ul>\n</li>\n<li>\n<p>Tarefas do Handoff:</p>\n<ul>\n<li>application(_:didUpdate:)</li>\n</ul>\n</li>\n<li>\n<p>Mudanças de horários:</p>\n<ul>\n<li>applicationSignificantTimeChange(_:)</li>\n</ul>\n</li>\n<li>\n<p>Abrir algum um recurso:</p>\n<ul>\n<li>application(_:open:options:)</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"O ciclo de vida do aplicativo iOS","date":"07 maio, 2020","description":""}},"previous":{"fields":{"slug":"/usernotifications-framework/"},"frontmatter":{"title":"UserNotifications Framework"}},"next":{"fields":{"slug":"/addTeardownBlock-do-xctest/"},"frontmatter":{"title":"addTeardownBlock do XCTest"}}},"pageContext":{"id":"4da718b0-c347-5848-a15b-3172d3a52629","previousPostId":"5ba80dea-91c2-5705-8ec6-e59fba911d38","nextPostId":"185c8c5e-e476-5947-83b6-f62a8d6567e6"}},"staticQueryHashes":["1344965497","2841359383"]}